# Amazon Bedrock AgentCore Identity 入門ガイド

## はじめに

Amazon Bedrock AgentCore Identityは、AIエージェントと自動化されたワークロード専用に設計された包括的なアイデンティティおよび認証情報管理サービスです。ユーザーがエージェントを呼び出し、エージェントがユーザーに代わって外部リソースやサービスにアクセスできるようにする安全な認証、認可、認証情報管理機能を提供します。同時に、厳格なセキュリティ制御と監査証跡を維持します。エージェントアイデンティティは、業界標準のワークロードアイデンティティパターンとの互換性を保ちながら、エージェント固有の機能を有効にする特殊な属性を持つワークロードアイデンティティとして実装されています。このサービスは、Amazon Bedrock AgentCoreとネイティブに統合され、エージェントアプリケーション向けの包括的なアイデンティティおよび認証情報管理を提供します。

## AgentCore Identityがサポートする認証タイプ

AgentCore Identityを使用すると、AgentCore RuntimeまたはAgentCore Gatewayターゲットでエージェントやツールを呼び出すユーザーおよびアプリケーションのインバウンドアクセス（インバウンド認証）を検証したり、AgentCore Gatewayターゲットへのアクセスを検証したりできます。また、エージェントまたはGatewayターゲットから外部サービスへの安全なアウトバウンドアクセス（アウトバウンド認証）も提供します。これは、Amazon Cognitoなどの既存のアイデンティティプロバイダーと統合し、独立して動作するエージェントまたはユーザーに代わって動作するエージェント（OAuth経由）の権限境界を強制します。

<div style="text-align:center">
    <img src="images/auth_basics1.png" width="75%" />
    <img src="images/auth_basics2.png" width="75%" />
</div>

* インバウンド：インバウンド認証は、ユーザーがエージェントやツールを呼び出すアクセス権を付与するために使用されます。ユーザーがアプリケーション内でエージェントを呼び出したいシナリオを考えてみてください。そのユーザーはエージェントを呼び出す権限を持っている必要があり、エージェントはタスクを実行する際にユーザーが誰であるかを保持する必要があります。インバウンド認証は、AWS IAMまたはOAuthの2つの認証メカニズムをサポートしています。OAuthにより、エージェント構築者はユーザーにIAM権限を付与することなく、エージェントを呼び出す方法を提供できます。
  
* アウトバウンド：アウトバウンド認証は、エージェントまたはAgentCore Gatewayが、ユーザーに代わってAWSサービスや外部リソースにアクセスするために使用されます。AgentCore Identityは、提供されたIAM実行ロールを使用してAWSリソースにアクセスします。外部リソースには、OAuth 2-legまたは3-legアクセスフローが使用されます。