# AgentCore Runtimeにおけるランタイムコンテキストとセッション管理の理解

## 概要

このチュートリアルでは、Amazon Bedrock AgentCore Runtimeにおけるランタイムコンテキストとセッション管理を理解し、使用する方法を学習します。この例では、AgentCore Runtimeがセッションを処理し、複数の呼び出しにわたってコンテキストを維持し、エージェントがコンテキストオブジェクトを通じてランタイム情報にアクセスする方法を実証します。

Amazon Bedrock AgentCore Runtimeは、各ユーザーインタラクションに対して分離されたセッションを提供し、エージェントが複数の呼び出しにわたってコンテキストと状態を維持しながら、異なるユーザー間の完全なセキュリティ分離を保証します。

### チュートリアル詳細

|項目| 詳細|
|:--------------------|:---------------------------------------------------------------------------------|
| チュートリアルタイプ    | コンテキストとセッション管理|
| エージェントタイプ     | 単一         |
| エージェント フレームワーク | Strands Agents |
| LLMモデル           | Anthropic Claude Sonnet 3.7 |
| チュートリアル構成要素  | ランタイムコンテキスト、セッション管理、AgentCore Runtime、Strands AgentとAmazon Bedrockモデル |
| チュートリアル分野     | 横断的                                                                           |
| 例の複雑さ          | 中級                                                                             |
| 使用SDK            | Amazon BedrockAgentCore Python SDKとboto3|

### チュートリアル アーキテクチャ

このチュートリアルでは、Amazon Bedrock AgentCore Runtimeがセッションを管理し、エージェントにコンテキストを提供する方法を探索します。以下について実証します：

1. **セッション継続性**: 同じセッションIDが複数の呼び出しにわたってコンテキストを維持する方法
2. **コンテキストオブジェクト**: エージェントがcontextパラメータを通じてランタイム情報にアクセスする方法
3. **セッション分離**: 異なるセッションIDが完全に分離された環境を作成する方法
4. **ペイロード柔軟性**: ペイロードを通じてエージェントにカスタムデータを渡す方法

デモンストレーションの目的で、これらのセッション管理機能を紹介するStrands Agentを使用します。

    
<div style="text-align:left">
    <img src="images/architecture_runtime.png" width="60%"/>
</div>

### チュートリアル主要機能

* **セッションベースのコンテキスト管理**: AgentCore Runtimeがセッション内でコンテキストを維持する方法の理解
* **ランタイムセッションライフサイクル**: セッションの作成、維持、終了について学習
* **コンテキストオブジェクトアクセス**: contextパラメータを通じたセッションIDなどのランタイム情報へのアクセス
* **セッション分離**: 異なるセッションが完全な分離を提供する方法の実証
* **ペイロード処理**: カスタムペイロード構造を通じた柔軟なデータ受け渡し
* **呼び出し間状態**: 同じセッション内の複数の呼び出しにわたるエージェント状態の維持